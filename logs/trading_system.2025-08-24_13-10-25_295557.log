2025-08-24 13:10:25 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-24 13:10:25 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-24 13:10:25 | ERROR    | backend.data_manager:_connect_postgres:96 - Failed to connect to PostgreSQL: [Errno 11001] getaddrinfo failed
2025-08-24 13:10:25 | ERROR    | backend.data_manager:_connect_redis:119 - Failed to connect to Redis: Error 11001 connecting to tramway.proxy.rlwy.net:38321. getaddrinfo failed.
2025-08-24 13:10:25 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-24 13:10:25 | WARNING  | services.websocket_server:initialize:110 - Redis connection failed: Error 11001 connecting to tramway.proxy.rlwy.net:38321. getaddrinfo failed.
2025-08-24 13:10:25 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:10:25 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-24 13:10:25 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:10:25 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:10:25 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 13:10:25 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:10:25 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:10:25 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 13:10:25 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-24 13:10:25 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-24 13:10:25 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_20f501a1-b790-4048-bd52-69808f9579d1.zip
2025-08-24 13:10:25 | WARNING  | backend.data_manager:get_historical_data:538 - No cached data found for XAUUSDm:H1
2025-08-24 13:10:41 | ERROR    | services.mt5_client:connect:131 - MT5 initialization failed: (-10005, 'IPC timeout')
2025-08-24 13:10:41 | ERROR    | services.mt5_client:get_historical_data:190 - Not connected to MT5
2025-08-24 13:10:41 | WARNING  | __main__:_get_or_download_data:471 - No data available for XAUUSDm
2025-08-24 13:10:41 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:10:41 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-24 13:10:41 | ERROR    | __main__:run_backtest:347 - Backtest failed: Data must contain columns: ['open', 'high', 'low', 'close', 'volume']. Missing: ['open', 'high', 'low', 'close', 'volume']
2025-08-24 13:10:41 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-24 13:10:41 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-24 13:10:41 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-24 13:10:41 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-24 13:10:41 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-24 13:13:02 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-24 13:13:02 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-24 13:13:09 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-24 13:13:17 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-24 13:13:23 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-24 13:13:23 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-24 13:13:25 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-24 13:13:25 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:13:25 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-24 13:13:25 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:13:25 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:13:25 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 13:13:25 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:13:25 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:13:25 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 13:13:25 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-24 13:13:25 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-24 13:13:25 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_20f501a1-b790-4048-bd52-69808f9579d1.zip
2025-08-24 13:13:26 | WARNING  | backend.data_manager:get_historical_data:538 - No cached data found for XAUUSDm:H1
2025-08-24 13:13:26 | INFO     | services.mt5_client:connect:150 - Connected to MT5: Account 210888620, Balance: 99.6, Server: Exness-MT5Trial9
2025-08-24 13:13:26 | INFO     | services.mt5_client:get_historical_data:231 - Retrieved 2821 bars for XAUUSDm (H1)
2025-08-24 13:13:27 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-24 13:13:27 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-24 13:13:31 | INFO     | backend.data_manager:save_historical_data:500 - Cached historical data for XAUUSDm (2821 rows)
2025-08-24 13:13:31 | INFO     | __main__:_get_or_download_data:464 - Downloaded and cached data for XAUUSDm: 2821 samples
2025-08-24 13:13:31 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:13:31 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-24 13:13:31 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-24 13:13:32 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 28 features
2025-08-24 13:13:32 | INFO     | envs.state_features:_select_features:231 - Selected 28 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'hour_of_day', 'day_of_week', 'is_weekend', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos']
2025-08-24 13:13:32 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2821, 28)
2025-08-24 13:13:32 | INFO     | envs.trading_env:_prepare_data:184 - Data prepared: 2772 samples, 28 features
2025-08-24 13:13:32 | INFO     | envs.trading_env:_setup_spaces:218 - Action space: Discrete(3)
2025-08-24 13:13:32 | INFO     | envs.trading_env:_setup_spaces:219 - Observation space: (2805,)
2025-08-24 13:13:32 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2821 data points
2025-08-24 13:13:32 | INFO     | models.ppo_agent:load_model:552 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-24 13:13:42 | INFO     | models.ppo_agent:load_model:562 - Model loaded from models/saved_models/ppo_final_20f501a1-b790-4048-bd52-69808f9579d1.zip
2025-08-24 13:13:42 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_20f501a1-b790-4048-bd52-69808f9579d1.zip
2025-08-24 13:13:42 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-24 13:13:42 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-24 13:13:42 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-24 13:13:43 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-24 13:13:43 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-24 13:16:27 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-24 13:16:27 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-24 13:16:30 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-24 13:16:32 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-24 13:16:35 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-24 13:16:35 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-24 13:16:36 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-24 13:16:36 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:16:36 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-24 13:16:36 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:16:36 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:16:36 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 13:16:36 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:16:36 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:16:36 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 13:16:36 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-24 13:16:36 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-24 13:16:36 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-24 13:16:37 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2821 rows from cache for XAUUSDm
2025-08-24 13:16:37 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2821 samples
2025-08-24 13:16:37 | INFO     | __main__:run_training:235 - Training data prepared: 2821 samples
2025-08-24 13:16:37 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:16:37 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-24 13:16:37 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-24 13:16:37 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-24 13:16:37 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-24 13:16:37 | INFO     | envs.state_features:_select_features:231 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-24 13:16:37 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2256, 21)
2025-08-24 13:16:37 | INFO     | envs.trading_env:_prepare_data:184 - Data prepared: 2207 samples, 21 features
2025-08-24 13:16:37 | INFO     | envs.trading_env:_setup_spaces:218 - Action space: Discrete(3)
2025-08-24 13:16:37 | INFO     | envs.trading_env:_setup_spaces:219 - Observation space: (2105,)
2025-08-24 13:16:37 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2256 data points
2025-08-24 13:16:37 | INFO     | models.ppo_agent:create_model:311 - Creating new PPO model
2025-08-24 13:16:42 | INFO     | models.ppo_agent:create_model:349 - PPO model created successfully
2025-08-24 13:16:42 | INFO     | models.ppo_agent:train:355 - Starting PPO training with 2256 samples
2025-08-24 13:16:42 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:16:42 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-24 13:16:42 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-24 13:16:42 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-24 13:16:42 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-24 13:16:42 | INFO     | envs.state_features:_select_features:231 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-24 13:16:42 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (565, 21)
2025-08-24 13:16:42 | INFO     | envs.trading_env:_prepare_data:184 - Data prepared: 516 samples, 21 features
2025-08-24 13:16:42 | INFO     | envs.trading_env:_setup_spaces:218 - Action space: Discrete(3)
2025-08-24 13:16:42 | INFO     | envs.trading_env:_setup_spaces:219 - Observation space: (2105,)
2025-08-24 13:16:42 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 565 data points
2025-08-24 13:16:52 | INFO     | models.ppo_agent:_on_rollout_end:101 - New best model saved with portfolio value: 34669.98
2025-08-24 13:17:02 | INFO     | models.ppo_agent:train:393 - Saved VecNormalize stats to ./models/saved_models\vecnormalize.pkl
2025-08-24 13:17:02 | INFO     | models.ppo_agent:train:415 - Training completed. Model saved to ./models/saved_models/ppo_final_ef4d87d1-d553-42bc-b824-1c80875e3b8e.zip
2025-08-24 13:17:02 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-24 13:17:02 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-24 13:17:03 | INFO     | backend.data_manager:save_training_session:296 - Training session ef4d87d1-d553-42bc-b824-1c80875e3b8e saved successfully
2025-08-24 13:17:03 | INFO     | __main__:run_training:277 - Training completed for XAUUSDm: {'success': True, 'model_path': './models/saved_models/ppo_final_ef4d87d1-d553-42bc-b824-1c80875e3b8e.zip', 'total_timesteps': 1000, 'best_model_path': 'C:\\Users\\ikchr\\AppData\\Local\\Temp\\SB3-2025-08-24-13-16-42-693467\\best_model', 'final_performance': {'mean_reward': np.float64(34669.97670199098), 'total_episodes': 0}}
2025-08-24 13:17:03 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-24 13:17:03 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-24 13:17:03 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-24 13:17:03 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-24 13:17:03 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-24 13:18:12 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-24 13:18:12 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-24 13:18:15 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-24 13:18:16 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-24 13:18:19 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-24 13:18:19 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-24 13:18:20 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-24 13:18:20 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:18:20 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-24 13:18:20 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:18:20 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:18:20 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 13:18:20 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:18:20 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:18:20 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 13:18:20 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-24 13:18:20 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-24 13:18:20 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_ef4d87d1-d553-42bc-b824-1c80875e3b8e.zip
2025-08-24 13:18:22 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2821 rows from cache for XAUUSDm
2025-08-24 13:18:22 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2821 samples
2025-08-24 13:18:22 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:18:22 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-24 13:18:22 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-24 13:18:22 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-24 13:18:22 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-24 13:18:22 | INFO     | envs.state_features:_select_features:231 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-24 13:18:22 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2821, 21)
2025-08-24 13:18:22 | INFO     | envs.trading_env:_prepare_data:184 - Data prepared: 2772 samples, 21 features
2025-08-24 13:18:22 | INFO     | envs.trading_env:_setup_spaces:218 - Action space: Discrete(3)
2025-08-24 13:18:22 | INFO     | envs.trading_env:_setup_spaces:219 - Observation space: (2105,)
2025-08-24 13:18:22 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2821 data points
2025-08-24 13:18:22 | INFO     | models.ppo_agent:load_model:552 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-24 13:18:25 | INFO     | models.ppo_agent:load_model:562 - Model loaded from models/saved_models/ppo_final_ef4d87d1-d553-42bc-b824-1c80875e3b8e.zip
2025-08-24 13:18:25 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_ef4d87d1-d553-42bc-b824-1c80875e3b8e.zip
2025-08-24 13:18:25 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-24 13:18:25 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-24 13:18:25 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-24 13:18:25 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-24 13:18:25 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-24 13:18:26 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-24 13:18:26 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-24 13:37:23 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-24 13:37:23 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-24 13:37:23 | ERROR    | backend.data_manager:_connect_postgres:96 - Failed to connect to PostgreSQL: [Errno 11001] getaddrinfo failed
2025-08-24 13:37:23 | ERROR    | backend.data_manager:_connect_redis:119 - Failed to connect to Redis: Error 11001 connecting to tramway.proxy.rlwy.net:38321. getaddrinfo failed.
2025-08-24 13:37:23 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-24 13:37:23 | WARNING  | services.websocket_server:initialize:110 - Redis connection failed: Error 11001 connecting to tramway.proxy.rlwy.net:38321. getaddrinfo failed.
2025-08-24 13:37:23 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:37:23 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-24 13:37:23 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:37:23 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:37:23 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 13:37:23 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 13:37:23 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:37:23 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 13:37:23 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-24 13:37:23 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-24 13:37:23 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/vecnormalize.pki
2025-08-24 13:37:23 | WARNING  | backend.data_manager:get_historical_data:538 - No cached data found for XAUUSDm:H1
2025-08-24 13:37:34 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-24 13:37:34 | ERROR    | services.mt5_client:connect:131 - MT5 initialization failed: (-10005, 'IPC timeout')
2025-08-24 13:37:34 | ERROR    | services.mt5_client:get_historical_data:190 - Not connected to MT5
2025-08-24 13:37:34 | WARNING  | __main__:_get_or_download_data:471 - No data available for XAUUSDm
2025-08-24 13:37:34 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 13:37:34 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-24 13:37:34 | ERROR    | __main__:run_backtest:347 - Backtest failed: Data must contain columns: ['open', 'high', 'low', 'close', 'volume']. Missing: ['open', 'high', 'low', 'close', 'volume']
2025-08-24 13:37:34 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-24 13:37:34 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-24 13:37:34 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-24 13:37:34 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-24 13:37:34 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-24 19:14:16 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-24 19:14:16 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-24 19:14:19 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-24 19:14:21 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-24 19:14:24 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-24 19:14:24 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-24 19:14:26 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-24 19:14:26 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 19:14:26 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-24 19:14:26 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 19:14:26 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 19:14:26 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 19:14:26 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 19:14:26 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 19:14:26 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 19:14:26 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-24 19:14:26 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-24 19:14:26 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-24 19:14:26 | WARNING  | backend.data_manager:get_historical_data:538 - No cached data found for XAUUSDm:H1
2025-08-24 19:14:26 | INFO     | services.mt5_client:connect:150 - Connected to MT5: Account 210888620, Balance: 99.6, Server: Exness-MT5Trial9
2025-08-24 19:14:27 | INFO     | services.mt5_client:get_historical_data:231 - Retrieved 11777 bars for XAUUSDm (H1)
2025-08-24 19:14:28 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-24 19:14:28 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-24 19:14:37 | INFO     | backend.data_manager:save_historical_data:500 - Cached historical data for XAUUSDm (11777 rows)
2025-08-24 19:14:37 | INFO     | __main__:_get_or_download_data:464 - Downloaded and cached data for XAUUSDm: 11777 samples
2025-08-24 19:14:37 | INFO     | __main__:run_training:235 - Training data prepared: 11777 samples
2025-08-24 19:14:37 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 19:14:37 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-24 19:14:37 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-24 19:14:37 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 28 features
2025-08-24 19:14:37 | INFO     | envs.state_features:_select_features:231 - Selected 28 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'hour_of_day', 'day_of_week', 'is_weekend', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos']
2025-08-24 19:14:37 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (9421, 28)
2025-08-24 19:14:37 | INFO     | envs.trading_env:_prepare_data:184 - Data prepared: 9372 samples, 28 features
2025-08-24 19:14:37 | INFO     | envs.trading_env:_setup_spaces:218 - Action space: Discrete(3)
2025-08-24 19:14:37 | INFO     | envs.trading_env:_setup_spaces:219 - Observation space: (2805,)
2025-08-24 19:14:37 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 9421 data points
2025-08-24 19:14:37 | INFO     | models.ppo_agent:create_model:311 - Creating new PPO model
2025-08-24 19:14:41 | INFO     | models.ppo_agent:create_model:349 - PPO model created successfully
2025-08-24 19:14:41 | INFO     | models.ppo_agent:train:355 - Starting PPO training with 9421 samples
2025-08-24 19:14:41 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 19:14:41 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-24 19:14:41 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-24 19:14:41 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 28 features
2025-08-24 19:14:41 | INFO     | envs.state_features:_select_features:231 - Selected 28 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'hour_of_day', 'day_of_week', 'is_weekend', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos']
2025-08-24 19:14:41 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2356, 28)
2025-08-24 19:14:41 | INFO     | envs.trading_env:_prepare_data:184 - Data prepared: 2307 samples, 28 features
2025-08-24 19:14:41 | INFO     | envs.trading_env:_setup_spaces:218 - Action space: Discrete(3)
2025-08-24 19:14:41 | INFO     | envs.trading_env:_setup_spaces:219 - Observation space: (2805,)
2025-08-24 19:14:41 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2356 data points
2025-08-24 19:14:53 | INFO     | models.ppo_agent:_on_rollout_end:101 - New best model saved with portfolio value: 3955328622.33
2025-08-24 19:16:07 | INFO     | models.ppo_agent:_on_rollout_end:101 - New best model saved with portfolio value: 49817822571.00
2025-08-24 19:17:27 | INFO     | models.ppo_agent:train:393 - Saved VecNormalize stats to ./models/saved_models\vecnormalize.pkl
2025-08-24 19:17:27 | INFO     | models.ppo_agent:train:415 - Training completed. Model saved to ./models/saved_models/ppo_final_973ed579-bbcb-4190-9f97-1597de7f5772.zip
2025-08-24 19:17:28 | INFO     | backend.data_manager:save_training_session:296 - Training session 973ed579-bbcb-4190-9f97-1597de7f5772 saved successfully
2025-08-24 19:17:28 | INFO     | __main__:run_training:277 - Training completed for XAUUSDm: {'success': True, 'model_path': './models/saved_models/ppo_final_973ed579-bbcb-4190-9f97-1597de7f5772.zip', 'total_timesteps': 10000, 'best_model_path': 'C:\\Users\\ikchr\\AppData\\Local\\Temp\\SB3-2025-08-24-19-14-41-915836\\best_model', 'final_performance': {'mean_reward': np.float64(49817822571.00378), 'total_episodes': 0}}
2025-08-24 19:17:28 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-24 19:17:28 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-24 19:17:28 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-24 19:17:28 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-24 19:17:28 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-24 19:18:38 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-24 19:18:38 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-24 19:18:41 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-24 19:18:42 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-24 19:18:45 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-24 19:18:45 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-24 19:18:46 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-24 19:18:46 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 19:18:46 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-24 19:18:46 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 19:18:46 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 19:18:46 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 19:18:46 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-24 19:18:46 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 19:18:46 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-24 19:18:46 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-24 19:18:46 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-24 19:18:46 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_973ed579-bbcb-4190-9f97-1597de7f5772.zip
2025-08-24 19:18:48 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-24 19:18:48 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-24 19:18:49 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 11777 rows from cache for XAUUSDm
2025-08-24 19:18:49 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 11777 samples
2025-08-24 19:18:49 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-24 19:18:49 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-24 19:18:49 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-24 19:18:49 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-24 19:18:49 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-24 19:18:49 | INFO     | envs.state_features:_select_features:231 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-24 19:18:49 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (11777, 21)
2025-08-24 19:18:49 | INFO     | envs.trading_env:_prepare_data:184 - Data prepared: 11728 samples, 21 features
2025-08-24 19:18:49 | INFO     | envs.trading_env:_setup_spaces:218 - Action space: Discrete(3)
2025-08-24 19:18:49 | INFO     | envs.trading_env:_setup_spaces:219 - Observation space: (2105,)
2025-08-24 19:18:49 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 11777 data points
2025-08-24 19:18:49 | ERROR    | __main__:run_backtest:347 - Backtest failed: spaces must have the same shape: (2805,) != (2105,)
2025-08-24 19:18:49 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-24 19:18:49 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-24 19:18:49 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-24 19:18:49 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-24 19:18:49 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 01:17:24 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 01:17:24 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 01:17:27 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 01:17:29 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 01:17:32 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 01:17:32 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 01:17:34 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 01:17:34 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 01:17:34 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 01:17:34 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 01:17:34 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 01:17:34 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 01:17:34 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 01:17:34 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 01:17:34 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 01:17:34 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 01:17:34 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 01:17:34 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_973ed579-bbcb-4190-9f97-1597de7f5772.zip
2025-08-25 01:17:34 | WARNING  | backend.data_manager:get_historical_data:538 - No cached data found for XAUUSDm:H1
2025-08-25 01:17:34 | INFO     | services.mt5_client:connect:150 - Connected to MT5: Account 210888620, Balance: 99.6, Server: Exness-MT5Trial9
2025-08-25 01:17:34 | INFO     | services.mt5_client:get_historical_data:231 - Retrieved 2910 bars for XAUUSDm (H1)
2025-08-25 01:17:35 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 01:17:35 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 01:17:36 | INFO     | backend.data_manager:save_historical_data:500 - Cached historical data for XAUUSDm (2910 rows)
2025-08-25 01:17:36 | INFO     | __main__:_get_or_download_data:464 - Downloaded and cached data for XAUUSDm: 2910 samples
2025-08-25 01:17:36 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 01:17:36 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 01:17:36 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 01:17:36 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 28 features
2025-08-25 01:17:36 | INFO     | envs.state_features:_select_features:231 - Selected 32 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'hour_of_day', 'day_of_week', 'is_weekend', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos']
2025-08-25 01:17:36 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2910, 32)
2025-08-25 01:17:36 | INFO     | envs.trading_env:_prepare_data:184 - Data prepared: 2861 samples, 32 features
2025-08-25 01:17:36 | INFO     | envs.trading_env:_setup_spaces:218 - Action space: Discrete(3)
2025-08-25 01:17:36 | INFO     | envs.trading_env:_setup_spaces:219 - Observation space: (3205,)
2025-08-25 01:17:36 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2910 data points
2025-08-25 01:17:36 | ERROR    | __main__:run_backtest:347 - Backtest failed: spaces must have the same shape: (2805,) != (3205,)
2025-08-25 01:17:36 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 01:17:36 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 01:17:36 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 01:17:36 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 01:17:36 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 01:26:01 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 01:26:01 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 01:26:04 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 01:26:05 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 01:26:08 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 01:26:08 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 01:26:09 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 01:26:09 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 01:26:09 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 01:26:09 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 01:26:09 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 01:26:09 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 01:26:09 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 01:26:09 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 01:26:09 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 01:26:09 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 01:26:09 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 01:26:09 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_973ed579-bbcb-4190-9f97-1597de7f5772.zip
2025-08-25 01:26:11 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2910 rows from cache for XAUUSDm
2025-08-25 01:26:11 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2910 samples
2025-08-25 01:26:11 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 01:26:11 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 01:26:11 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 01:26:11 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 01:26:11 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 01:26:11 | INFO     | envs.state_features:_select_features:231 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 01:26:11 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2910, 21)
2025-08-25 01:26:11 | INFO     | envs.trading_env:_prepare_data:193 - Data prepared: 2861 samples, 21 features
2025-08-25 01:26:11 | INFO     | envs.trading_env:_setup_spaces:227 - Action space: Discrete(3)
2025-08-25 01:26:11 | INFO     | envs.trading_env:_setup_spaces:228 - Observation space: (2105,)
2025-08-25 01:26:11 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2910 data points
2025-08-25 01:26:11 | ERROR    | __main__:run_backtest:347 - Backtest failed: spaces must have the same shape: (2805,) != (2105,)
2025-08-25 01:26:11 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 01:26:11 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 01:26:11 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 01:26:11 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 01:26:11 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 01:26:11 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 01:26:11 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 01:56:26 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 01:56:26 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 01:56:29 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 01:56:30 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 01:56:34 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 01:56:34 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 01:56:35 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 01:56:35 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 01:56:35 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 01:56:35 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 01:56:35 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 01:56:35 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 01:56:35 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 01:56:35 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 01:56:35 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 01:56:35 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 01:56:35 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 01:56:35 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-25 01:56:37 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 01:56:37 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 01:56:44 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2910 rows from cache for XAUUSDm
2025-08-25 01:56:44 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2910 samples
2025-08-25 01:56:44 | INFO     | __main__:run_training:235 - Training data prepared: 2910 samples
2025-08-25 01:56:44 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 01:56:44 | ERROR    | __main__:run_training:281 - Training failed: 'reward_function'
2025-08-25 01:56:44 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 01:56:44 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 01:56:44 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 01:56:45 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 01:56:45 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 02:07:59 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 02:07:59 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 02:08:02 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 02:08:03 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 02:08:06 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 02:08:06 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 02:08:08 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:08:08 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:08:08 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 02:08:08 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:08:08 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:08:08 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:08:08 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:08:08 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:08:08 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:08:08 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 02:08:08 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 02:08:08 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-25 02:08:09 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2910 rows from cache for XAUUSDm
2025-08-25 02:08:09 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2910 samples
2025-08-25 02:08:09 | INFO     | __main__:run_training:235 - Training data prepared: 2910 samples
2025-08-25 02:08:09 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:08:09 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:08:09 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:08:09 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 02:08:09 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 02:08:09 | INFO     | envs.state_features:_select_features:231 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 02:08:09 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2328, 21)
2025-08-25 02:08:09 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2279 samples, 21 features
2025-08-25 02:08:09 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:08:09 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 02:08:09 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2328 data points
2025-08-25 02:08:09 | INFO     | models.ppo_agent:create_model:395 - Creating new PPO model
2025-08-25 02:08:14 | INFO     | models.ppo_agent:create_model:419 - PPO model created successfully
2025-08-25 02:08:14 | INFO     | models.ppo_agent:train:428 - Starting PPO training with 2328 samples
2025-08-25 02:08:14 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:08:14 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:08:14 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:08:14 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 02:08:14 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 02:08:15 | INFO     | envs.state_features:_select_features:231 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 02:08:15 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (582, 21)
2025-08-25 02:08:15 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 533 samples, 21 features
2025-08-25 02:08:15 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:08:15 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 02:08:15 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 582 data points
2025-08-25 02:08:28 | INFO     | models.ppo_agent:_on_rollout_end:147 - New best model saved with portfolio value: 451739.90
2025-08-25 02:08:51 | INFO     | models.ppo_agent:_on_rollout_end:147 - New best model saved with portfolio value: 591979.66
2025-08-25 02:10:23 | INFO     | models.ppo_agent:train:467 - Saved VecNormalize stats to ./models/saved_models\vecnormalize.pkl
2025-08-25 02:10:23 | INFO     | models.ppo_agent:train:481 - Saved model config snapshot (with signature) to ./models/saved_models\model_config.yaml
2025-08-25 02:10:23 | INFO     | models.ppo_agent:train:485 - Training completed. Model saved to ./models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:10:23 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:10:23 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 02:10:24 | INFO     | backend.data_manager:save_training_session:296 - Training session 4e7613a5-c5e4-4400-82d3-a85648d207dd saved successfully
2025-08-25 02:10:24 | INFO     | __main__:run_training:277 - Training completed for XAUUSDm: {'success': True, 'model_path': './models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip', 'total_timesteps': 10000, 'best_model_path': 'C:\\Users\\ikchr\\AppData\\Local\\Temp\\SB3-2025-08-25-02-08-15-014446\\best_model', 'final_performance': {'mean_reward': np.float64(591979.6587830583), 'total_episodes': 0}}
2025-08-25 02:10:24 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 02:10:24 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 02:10:24 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 02:10:24 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 02:10:24 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 02:11:49 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 02:11:49 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 02:11:52 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 02:11:53 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 02:11:56 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 02:11:56 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 02:11:57 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:11:57 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:11:57 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 02:11:57 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:11:57 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:11:57 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:11:57 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:11:57 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:11:57 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:11:57 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 02:11:57 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 02:11:57 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:11:58 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2910 rows from cache for XAUUSDm
2025-08-25 02:11:58 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2910 samples
2025-08-25 02:11:58 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:11:58 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:11:58 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:11:58 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 02:11:58 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 02:11:58 | INFO     | envs.state_features:_select_features:231 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 02:11:58 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2910, 21)
2025-08-25 02:11:58 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2861 samples, 21 features
2025-08-25 02:11:58 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:11:58 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 02:11:58 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2910 data points
2025-08-25 02:11:58 | INFO     | models.ppo_agent:load_model:632 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-25 02:12:04 | INFO     | models.ppo_agent:load_model:641 - Model loaded from models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:12:04 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:12:04 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 02:12:04 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 02:12:04 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 02:12:04 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:12:04 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 02:12:04 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 02:12:04 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 02:26:09 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 02:26:09 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 02:26:17 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 02:26:20 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 02:26:23 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 02:26:23 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 02:26:24 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:26:24 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:26:24 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 02:26:25 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:26:25 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:26:25 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:26:25 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:26:25 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:26:25 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:26:25 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 02:26:25 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 02:26:25 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:26:25 | WARNING  | backend.data_manager:get_historical_data:538 - No cached data found for XAUUSDm:H1
2025-08-25 02:26:25 | INFO     | services.mt5_client:connect:150 - Connected to MT5: Account 210888620, Balance: 99.6, Server: Exness-MT5Trial9
2025-08-25 02:26:25 | INFO     | services.mt5_client:get_historical_data:231 - Retrieved 2912 bars for XAUUSDm (H1)
2025-08-25 02:26:26 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:26:26 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 02:26:27 | INFO     | backend.data_manager:save_historical_data:500 - Cached historical data for XAUUSDm (2912 rows)
2025-08-25 02:26:27 | INFO     | __main__:_get_or_download_data:464 - Downloaded and cached data for XAUUSDm: 2912 samples
2025-08-25 02:26:27 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:26:27 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:26:27 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:26:27 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 28 features
2025-08-25 02:26:27 | INFO     | envs.state_features:_select_features:231 - Selected 32 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'hour_of_day', 'day_of_week', 'is_weekend', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos']
2025-08-25 02:26:27 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 32)
2025-08-25 02:26:27 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2863 samples, 32 features
2025-08-25 02:26:27 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:26:27 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (3205,)
2025-08-25 02:26:27 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2912 data points
2025-08-25 02:26:27 | ERROR    | __main__:run_backtest:347 - Backtest failed: spaces must have the same shape: (2105,) != (3205,)
2025-08-25 02:26:27 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 02:26:27 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 02:26:27 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 02:26:28 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 02:26:28 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 02:35:25 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 02:35:25 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 02:35:28 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 02:35:29 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 02:35:32 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 02:35:32 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 02:35:33 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:35:33 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:35:33 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 02:35:33 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:35:33 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:35:33 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:35:33 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:35:33 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:35:33 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:35:33 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 02:35:33 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 02:35:33 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:35:34 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 02:35:34 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 02:35:34 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:35:34 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:35:34 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:35:34 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 02:35:34 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 02:35:34 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 02:35:34 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 02:35:34 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2863 samples, 21 features
2025-08-25 02:35:34 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:35:34 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 02:35:34 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2912 data points
2025-08-25 02:35:34 | INFO     | models.ppo_agent:load_model:632 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-25 02:35:39 | INFO     | models.ppo_agent:load_model:641 - Model loaded from models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:35:39 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:35:39 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 02:35:39 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 02:35:39 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 02:35:39 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:35:39 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 02:35:39 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 02:35:40 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 02:36:01 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 02:36:01 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 02:36:14 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 02:36:15 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 02:36:50 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 02:36:50 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 02:36:51 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:36:51 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:36:51 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 02:36:51 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:36:51 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:36:51 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:36:51 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:36:51 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:36:51 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:36:51 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 02:36:51 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 02:36:51 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:36:53 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 02:36:53 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 02:36:53 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:36:53 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:36:53 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:36:53 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 02:36:53 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 02:36:53 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 02:36:53 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 02:36:53 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2863 samples, 21 features
2025-08-25 02:36:53 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:36:53 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 02:36:53 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2912 data points
2025-08-25 02:36:53 | INFO     | models.ppo_agent:load_model:632 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-25 02:36:57 | INFO     | models.ppo_agent:load_model:641 - Model loaded from models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:36:57 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_4e7613a5-c5e4-4400-82d3-a85648d207dd.zip
2025-08-25 02:36:57 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 02:36:57 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 02:36:57 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 02:36:57 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:36:57 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 02:36:57 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 02:36:57 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 02:40:36 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 02:40:36 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 02:40:38 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 02:40:39 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 02:40:42 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 02:40:42 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 02:40:43 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:40:43 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:40:44 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 02:40:44 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:40:44 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:40:44 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:40:44 | INFO     | models.ppo_agent:__init__:198 - PPO Trading Agent initialized
2025-08-25 02:40:44 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:40:44 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:40:44 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 02:40:44 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 02:40:44 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/best_model.zip
2025-08-25 02:40:45 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 02:40:45 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 02:40:45 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:40:45 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:40:45 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:40:45 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 02:40:45 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 02:40:45 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 02:40:45 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 02:40:45 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2863 samples, 21 features
2025-08-25 02:40:45 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:40:45 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 02:40:45 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2912 data points
2025-08-25 02:40:45 | INFO     | models.ppo_agent:load_model:632 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-25 02:40:50 | INFO     | models.ppo_agent:load_model:641 - Model loaded from models/saved_models/best_model.zip
2025-08-25 02:40:50 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/best_model.zip
2025-08-25 02:40:50 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 02:40:50 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 02:40:50 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 02:40:50 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:40:50 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 02:40:50 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 02:40:50 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 02:47:59 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 02:47:59 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 02:48:01 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 02:48:02 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 02:48:05 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 02:48:05 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 02:48:07 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:48:07 | INFO     | models.ppo_agent:__init__:197 - PPO Trading Agent initialized
2025-08-25 02:48:07 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 02:48:07 | INFO     | models.ppo_agent:__init__:197 - PPO Trading Agent initialized
2025-08-25 02:48:07 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:48:07 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:48:07 | INFO     | models.ppo_agent:__init__:197 - PPO Trading Agent initialized
2025-08-25 02:48:07 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:48:07 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:48:07 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 02:48:07 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 02:48:07 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-25 02:48:08 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 02:48:08 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 02:48:08 | INFO     | __main__:run_training:235 - Training data prepared: 2912 samples
2025-08-25 02:48:08 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:48:08 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:48:08 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:48:08 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 02:48:08 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 02:48:08 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 02:48:08 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2329, 21)
2025-08-25 02:48:08 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2280 samples, 21 features
2025-08-25 02:48:08 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:48:08 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 02:48:08 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2329 data points
2025-08-25 02:48:08 | INFO     | models.ppo_agent:create_model:394 - Creating new PPO model
2025-08-25 02:48:12 | INFO     | models.ppo_agent:create_model:418 - PPO model created successfully
2025-08-25 02:48:12 | INFO     | models.ppo_agent:train:427 - Starting PPO training with 2329 samples
2025-08-25 02:48:12 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:48:12 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:48:12 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:48:12 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 02:48:12 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 02:48:12 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 02:48:12 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (583, 21)
2025-08-25 02:48:12 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 534 samples, 21 features
2025-08-25 02:48:12 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:48:12 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 02:48:12 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 583 data points
2025-08-25 02:48:23 | INFO     | models.ppo_agent:_on_rollout_end:146 - New best model saved with portfolio value: 300951.73
2025-08-25 02:50:03 | INFO     | models.ppo_agent:train:466 - Saved VecNormalize stats to ./models/saved_models\vecnormalize.pkl
2025-08-25 02:50:03 | INFO     | models.ppo_agent:train:480 - Saved model config snapshot (with signature) to ./models/saved_models\model_config.yaml
2025-08-25 02:50:03 | INFO     | models.ppo_agent:train:484 - Training completed. Model saved to ./models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip
2025-08-25 02:50:03 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:50:03 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 02:50:04 | INFO     | backend.data_manager:save_training_session:296 - Training session 3c55a6ac-c1ed-4285-afa3-799deb7160c5 saved successfully
2025-08-25 02:50:04 | INFO     | __main__:run_training:277 - Training completed for XAUUSDm: {'success': True, 'model_path': './models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip', 'total_timesteps': 10000, 'best_model_path': 'C:\\Users\\ikchr\\AppData\\Local\\Temp\\SB3-2025-08-25-02-48-12-807729\\best_model', 'final_performance': {'mean_reward': np.float64(300951.7327503819), 'total_episodes': 0}}
2025-08-25 02:50:04 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 02:50:04 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 02:50:04 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 02:50:04 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 02:50:04 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 02:51:53 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 02:51:53 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 02:51:56 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 02:51:57 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 02:52:01 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 02:52:01 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 02:52:02 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:52:02 | INFO     | models.ppo_agent:__init__:197 - PPO Trading Agent initialized
2025-08-25 02:52:02 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 02:52:02 | INFO     | models.ppo_agent:__init__:197 - PPO Trading Agent initialized
2025-08-25 02:52:02 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:52:02 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:52:02 | INFO     | models.ppo_agent:__init__:197 - PPO Trading Agent initialized
2025-08-25 02:52:02 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:52:02 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:52:02 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 02:52:02 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 02:52:02 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/best_model.zip
2025-08-25 02:52:04 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:52:04 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 02:52:04 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 02:52:04 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 02:52:04 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:52:04 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:52:04 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:52:04 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 02:52:04 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 02:52:04 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 02:52:04 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 02:52:04 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2863 samples, 21 features
2025-08-25 02:52:04 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:52:04 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 02:52:04 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2912 data points
2025-08-25 02:52:04 | INFO     | models.ppo_agent:load_model:631 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-25 02:52:08 | INFO     | models.ppo_agent:load_model:640 - Model loaded from models/saved_models/best_model.zip
2025-08-25 02:52:08 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/best_model.zip
2025-08-25 02:52:08 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 02:52:08 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 02:52:08 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 02:52:08 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 02:52:08 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 02:53:55 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 02:53:55 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 02:53:58 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 02:53:59 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 02:54:02 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 02:54:02 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 02:54:03 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:54:03 | INFO     | models.ppo_agent:__init__:197 - PPO Trading Agent initialized
2025-08-25 02:54:03 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 02:54:03 | INFO     | models.ppo_agent:__init__:197 - PPO Trading Agent initialized
2025-08-25 02:54:03 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:54:03 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:54:03 | INFO     | models.ppo_agent:__init__:197 - PPO Trading Agent initialized
2025-08-25 02:54:03 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:54:03 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 02:54:03 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 02:54:03 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 02:54:03 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip
2025-08-25 02:54:04 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 02:54:04 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 02:54:04 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 02:54:04 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 02:54:04 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 02:54:04 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 02:54:04 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 02:54:04 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 02:54:04 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 02:54:04 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2863 samples, 21 features
2025-08-25 02:54:04 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 02:54:04 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 02:54:04 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2912 data points
2025-08-25 02:54:04 | INFO     | models.ppo_agent:load_model:631 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-25 02:54:08 | INFO     | models.ppo_agent:load_model:640 - Model loaded from models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip
2025-08-25 02:54:08 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip
2025-08-25 02:54:08 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 02:54:08 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 02:54:08 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 02:54:08 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 02:54:08 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 02:54:08 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 02:54:08 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:13:08 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:13:08 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:13:11 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:13:12 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:13:15 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:13:15 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:13:16 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:13:16 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:13:16 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:13:16 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:13:16 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:13:16 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:13:16 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:13:16 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:13:16 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:13:16 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:13:16 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:13:16 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip
2025-08-25 03:13:28 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:13:28 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:13:33 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:13:33 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:13:33 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:13:33 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:13:33 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:13:33 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:13:33 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:13:33 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:13:33 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 03:13:33 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2863 samples, 21 features
2025-08-25 03:13:33 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 03:13:33 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 03:13:33 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2912 data points
2025-08-25 03:13:37 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip
2025-08-25 03:13:37 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:13:38 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:13:38 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:13:38 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:13:38 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:15:07 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:15:07 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:15:09 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:15:11 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:15:14 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:15:14 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:15:15 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:15:15 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:15:15 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:15:15 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:15:15 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:15:15 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:15:15 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:15:15 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:15:15 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:15:15 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:15:15 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:15:15 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-25 03:15:16 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:15:16 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:15:16 | INFO     | __main__:run_training:235 - Training data prepared: 2912 samples
2025-08-25 03:15:16 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:15:16 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:15:16 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:15:16 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:15:16 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:15:16 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:15:16 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2329, 21)
2025-08-25 03:15:16 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2280 samples, 21 features
2025-08-25 03:15:16 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 03:15:16 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 03:15:16 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2329 data points
2025-08-25 03:15:21 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:15:21 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:15:21 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:15:21 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:15:21 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:15:21 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:15:21 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (583, 21)
2025-08-25 03:15:21 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 534 samples, 21 features
2025-08-25 03:15:21 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 03:15:21 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 03:15:21 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 583 data points
2025-08-25 03:15:33 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 1525281.70
2025-08-25 03:17:20 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:17:20 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:17:21 | INFO     | backend.data_manager:save_training_session:296 - Training session 151bdbae-22b7-4272-a851-f60765b0e8a8 saved successfully
2025-08-25 03:17:21 | INFO     | __main__:run_training:277 - Training completed for XAUUSDm: {'success': True, 'model_path': './models/saved_models/ppo_final_151bdbae-22b7-4272-a851-f60765b0e8a8.zip', 'total_timesteps': 10000}
2025-08-25 03:17:21 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:17:21 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:17:21 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:17:21 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:17:21 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:17:54 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:17:54 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:18:54 | ERROR    | backend.data_manager:_connect_postgres:96 - Failed to connect to PostgreSQL: 
2025-08-25 03:18:58 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:18:58 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:19:11 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 03:19:11 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 03:19:11 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 03:19:12 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 03:19:12 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 03:19:13 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 03:19:13 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 03:19:15 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:19:15 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:19:15 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:19:15 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:19:15 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:19:15 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:19:15 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:19:15 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:19:15 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:19:15 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:19:15 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:19:15 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip
2025-08-25 03:19:17 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:19:17 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:19:18 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:19:18 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:19:18 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:19:18 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:19:18 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:19:18 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:19:18 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:19:18 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:19:18 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 03:19:18 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2863 samples, 21 features
2025-08-25 03:19:18 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 03:19:18 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 03:19:18 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2912 data points
2025-08-25 03:19:18 | ERROR    | __main__:run_backtest:347 - Backtest failed: Model file not found: models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip
2025-08-25 03:19:18 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:19:18 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:19:18 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:19:18 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:19:18 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:19:52 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:19:52 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:19:55 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:19:57 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:19:59 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:19:59 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:20:01 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:20:01 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:20:01 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:20:01 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:20:01 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:20:01 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:20:01 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:20:01 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:20:01 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:20:01 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:20:01 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:20:01 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip
2025-08-25 03:20:02 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:20:02 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:20:02 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:20:02 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:20:02 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:20:02 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:20:02 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:20:02 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:20:02 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 03:20:02 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2863 samples, 21 features
2025-08-25 03:20:02 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 03:20:02 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 03:20:02 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2912 data points
2025-08-25 03:20:02 | ERROR    | __main__:run_backtest:347 - Backtest failed: Model file not found: models/saved_models/ppo_final_3c55a6ac-c1ed-4285-afa3-799deb7160c5.zip
2025-08-25 03:20:02 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:20:02 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:20:02 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:20:02 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:20:02 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:20:02 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:20:02 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:21:21 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:21:21 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:21:24 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:21:25 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:21:28 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:21:28 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:21:29 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:21:29 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:21:29 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:21:29 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:21:29 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:21:29 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:21:29 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:21:29 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:21:29 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:21:29 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:21:29 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:21:29 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_151bdbae-22b7-4272-a851-f60765b0e8a8.zip
2025-08-25 03:21:30 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:21:30 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:21:30 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:21:30 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:21:30 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:21:31 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:21:31 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:21:31 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:21:31 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 03:21:31 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2863 samples, 21 features
2025-08-25 03:21:31 | INFO     | envs.trading_env:_setup_spaces:230 - Action space: Discrete(3)
2025-08-25 03:21:31 | INFO     | envs.trading_env:_setup_spaces:231 - Observation space: (2105,)
2025-08-25 03:21:31 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 2912 data points
2025-08-25 03:21:31 | ERROR    | __main__:run_backtest:347 - Backtest failed: Saved model obs_dim=2105 does not match env obs_dim=5
2025-08-25 03:21:31 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:21:31 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:21:31 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:21:31 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:21:31 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:21:31 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:21:31 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:28:26 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:28:26 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:28:29 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:28:30 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:28:33 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:28:33 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:28:35 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:28:35 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:28:35 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:28:35 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:28:35 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:28:35 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:28:35 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:28:35 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:28:35 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:28:35 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:28:35 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:28:35 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_151bdbae-22b7-4272-a851-f60765b0e8a8.zip
2025-08-25 03:28:35 | WARNING  | backend.data_manager:get_historical_data:538 - No cached data found for XAUUSDm:H1
2025-08-25 03:28:35 | INFO     | services.mt5_client:connect:150 - Connected to MT5: Account 210888620, Balance: 99.6, Server: Exness-MT5Trial9
2025-08-25 03:28:35 | INFO     | services.mt5_client:get_historical_data:231 - Retrieved 2912 bars for XAUUSDm (H1)
2025-08-25 03:28:36 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:28:36 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:28:37 | INFO     | backend.data_manager:save_historical_data:500 - Cached historical data for XAUUSDm (2912 rows)
2025-08-25 03:28:37 | INFO     | __main__:_get_or_download_data:464 - Downloaded and cached data for XAUUSDm: 2912 samples
2025-08-25 03:28:37 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:28:37 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:28:37 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:28:37 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 28 features
2025-08-25 03:28:37 | INFO     | envs.state_features:_select_features:230 - Selected 28 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'hour_of_day', 'day_of_week', 'is_weekend', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:28:37 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 28)
2025-08-25 03:28:37 | INFO     | envs.trading_env:_prepare_data:100 - Data prepared: 2863 samples, 28 features
2025-08-25 03:28:37 | INFO     | envs.trading_env:_setup_spaces:118 - Action space: Discrete(3)
2025-08-25 03:28:37 | INFO     | envs.trading_env:_setup_spaces:119 - Observation space: (2805,)
2025-08-25 03:28:37 | INFO     | envs.trading_env:__init__:61 - Trading environment initialized with 2912 data points
2025-08-25 03:28:37 | ERROR    | __main__:run_backtest:347 - Backtest failed: Saved model obs_dim=2105 does not match env obs_dim=5
2025-08-25 03:28:37 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:28:37 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:28:37 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:28:37 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:28:38 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:30:20 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:30:20 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:30:23 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:30:24 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:30:27 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:30:27 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:30:28 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:30:28 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:30:28 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:30:28 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:30:28 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:30:28 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:30:28 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:30:28 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:30:28 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:30:28 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:30:28 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:30:28 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-25 03:30:29 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:30:29 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:30:29 | INFO     | __main__:run_training:235 - Training data prepared: 2912 samples
2025-08-25 03:30:29 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:30:29 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:30:29 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:30:29 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:30:29 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:30:29 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:30:29 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2329, 21)
2025-08-25 03:30:29 | INFO     | envs.trading_env:_prepare_data:100 - Data prepared: 2280 samples, 21 features
2025-08-25 03:30:29 | INFO     | envs.trading_env:_setup_spaces:118 - Action space: Discrete(3)
2025-08-25 03:30:29 | INFO     | envs.trading_env:_setup_spaces:119 - Observation space: (2105,)
2025-08-25 03:30:29 | INFO     | envs.trading_env:__init__:61 - Trading environment initialized with 2329 data points
2025-08-25 03:30:34 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:30:34 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:30:34 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:30:34 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:30:34 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:30:34 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:30:34 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (583, 21)
2025-08-25 03:30:34 | INFO     | envs.trading_env:_prepare_data:100 - Data prepared: 534 samples, 21 features
2025-08-25 03:30:34 | INFO     | envs.trading_env:_setup_spaces:118 - Action space: Discrete(3)
2025-08-25 03:30:34 | INFO     | envs.trading_env:_setup_spaces:119 - Observation space: (2105,)
2025-08-25 03:30:34 | INFO     | envs.trading_env:__init__:61 - Trading environment initialized with 583 data points
2025-08-25 03:30:34 | ERROR    | __main__:run_training:281 - Training failed: cannot unpack non-iterable NoneType object
2025-08-25 03:30:34 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:30:34 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:30:34 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:30:34 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:30:34 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:30:34 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:30:34 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:35:26 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:35:26 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:35:28 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:35:29 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:35:32 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:35:32 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:35:33 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:35:33 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:35:33 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:35:33 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:35:33 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:35:33 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:35:34 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:35:34 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:35:34 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:35:34 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:35:34 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:35:34 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_151bdbae-22b7-4272-a851-f60765b0e8a8.zip
2025-08-25 03:35:35 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:35:35 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:35:35 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:35:35 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:35:35 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:35:35 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:35:35 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:35:35 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:35:35 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 03:35:35 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2863 samples, 21 features
2025-08-25 03:35:35 | INFO     | envs.trading_env:_setup_spaces:283 - Action space: Discrete(3)
2025-08-25 03:35:35 | INFO     | envs.trading_env:_setup_spaces:284 - Observation space: (2105,)
2025-08-25 03:35:35 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2912 data points
2025-08-25 03:35:35 | ERROR    | __main__:run_backtest:347 - Backtest failed: Model file not found: models/saved_models/ppo_final_151bdbae-22b7-4272-a851-f60765b0e8a8.zip
2025-08-25 03:35:35 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:35:35 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:35:35 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:35:35 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:35:35 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:35:35 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:35:35 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:35:56 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:35:56 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:35:58 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:36:00 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:36:03 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:36:03 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:36:04 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:36:04 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:36:04 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:36:04 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:36:04 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:36:04 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:36:04 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:36:04 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:36:04 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:36:04 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:36:04 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:36:04 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-25 03:36:06 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:36:06 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:36:06 | INFO     | __main__:run_training:235 - Training data prepared: 2912 samples
2025-08-25 03:36:06 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:36:06 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:36:06 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:36:06 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:36:06 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:36:06 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:36:06 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2329, 21)
2025-08-25 03:36:06 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2280 samples, 21 features
2025-08-25 03:36:06 | INFO     | envs.trading_env:_setup_spaces:283 - Action space: Discrete(3)
2025-08-25 03:36:06 | INFO     | envs.trading_env:_setup_spaces:284 - Observation space: (2105,)
2025-08-25 03:36:06 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2329 data points
2025-08-25 03:36:09 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:36:09 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:36:09 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:36:09 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:36:09 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:36:09 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:36:09 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (583, 21)
2025-08-25 03:36:09 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 534 samples, 21 features
2025-08-25 03:36:09 | INFO     | envs.trading_env:_setup_spaces:283 - Action space: Discrete(3)
2025-08-25 03:36:09 | INFO     | envs.trading_env:_setup_spaces:284 - Observation space: (2105,)
2025-08-25 03:36:10 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 583 data points
2025-08-25 03:36:19 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 14461.40
2025-08-25 03:36:42 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 42216.96
2025-08-25 03:37:04 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 219426.98
2025-08-25 03:37:26 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 1063607.98
2025-08-25 03:38:08 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:38:08 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:38:09 | INFO     | backend.data_manager:save_training_session:296 - Training session 3be99baa-c8c6-4153-a54e-e15fca48c124 saved successfully
2025-08-25 03:38:09 | INFO     | __main__:run_training:277 - Training completed for XAUUSDm: {'success': True, 'model_path': './models/saved_models/ppo_final_3be99baa-c8c6-4153-a54e-e15fca48c124.zip', 'total_timesteps': 10000}
2025-08-25 03:38:09 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:38:09 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:38:09 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:38:09 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:38:09 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:39:01 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:39:01 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:39:03 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:39:05 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:39:08 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:39:08 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:39:09 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:39:09 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:39:09 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:39:09 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:39:09 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:39:09 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:39:09 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:39:09 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:39:09 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:39:09 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:39:09 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:39:09 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_3be99baa-c8c6-4153-a54e-e15fca48c124.zip
2025-08-25 03:39:10 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:39:10 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:39:10 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:39:10 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:39:10 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:39:10 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:39:10 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:39:10 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:39:10 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 03:39:10 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2863 samples, 21 features
2025-08-25 03:39:10 | INFO     | envs.trading_env:_setup_spaces:283 - Action space: Discrete(3)
2025-08-25 03:39:10 | INFO     | envs.trading_env:_setup_spaces:284 - Observation space: (2105,)
2025-08-25 03:39:10 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2912 data points
2025-08-25 03:39:10 | ERROR    | __main__:run_backtest:347 - Backtest failed: Saved model obs_dim=2105 does not match env obs_dim=5
2025-08-25 03:39:10 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:39:10 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:39:10 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:39:10 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:39:10 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:39:11 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:39:11 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:42:39 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:42:39 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:42:57 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:42:58 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:43:02 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:43:02 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:43:03 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:43:03 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:43:03 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:43:03 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:43:03 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:43:03 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:43:03 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:43:03 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:43:03 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:43:03 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:43:03 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:43:03 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_3be99baa-c8c6-4153-a54e-e15fca48c124.zip
2025-08-25 03:43:04 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:43:04 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:43:04 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:43:04 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:43:04 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:43:04 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:43:04 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:43:04 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:43:04 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 03:43:04 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2863 samples, 21 features
2025-08-25 03:43:04 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 03:43:04 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 03:43:04 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2912 data points
2025-08-25 03:43:04 | ERROR    | __main__:run_backtest:347 - Backtest failed: Saved model obs_dim=2105 does not match env obs_dim=5
2025-08-25 03:43:04 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:43:04 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:43:04 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:43:04 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:43:04 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:43:05 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:43:05 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:45:00 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:45:00 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:45:02 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:45:04 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:45:06 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:45:06 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:45:08 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:45:08 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:45:08 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:45:08 | ERROR    | __main__:initialize:155 - System initialization failed: 'backtesting'
2025-08-25 03:45:08 | ERROR    | __main__:run:572 - Error in main run loop: System initialization failed
2025-08-25 03:45:08 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:45:08 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:45:08 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:45:08 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:45:08 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:46:39 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:46:39 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:46:41 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:46:43 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:46:46 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:46:46 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:46:47 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:46:47 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:46:47 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:46:47 | ERROR    | __main__:initialize:155 - System initialization failed: 'backtesting'
2025-08-25 03:46:47 | ERROR    | __main__:run:572 - Error in main run loop: System initialization failed
2025-08-25 03:46:47 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:46:47 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:46:47 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:46:47 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:46:47 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:58:43 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:58:43 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:58:46 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:58:47 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:58:50 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:58:50 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:58:51 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:58:51 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:58:51 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:58:51 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:58:51 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:58:51 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:58:51 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:58:51 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:58:51 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:58:51 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:58:51 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:58:51 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_3be99baa-c8c6-4153-a54e-e15fca48c124.zip
2025-08-25 03:58:52 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:58:52 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:58:52 | ERROR    | __main__:run_backtest:347 - Backtest failed: 'environment'
2025-08-25 03:58:52 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:58:53 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:58:53 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:58:53 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:58:53 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:58:53 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:58:53 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 03:59:32 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 03:59:32 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 03:59:34 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 03:59:36 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 03:59:38 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 03:59:38 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 03:59:40 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:59:40 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:59:40 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 03:59:40 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:59:40 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:59:40 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:59:40 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 03:59:40 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:59:40 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 03:59:40 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 03:59:40 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 03:59:40 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_3be99baa-c8c6-4153-a54e-e15fca48c124.zip
2025-08-25 03:59:41 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 03:59:41 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 03:59:41 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 03:59:41 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 03:59:41 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 03:59:41 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 03:59:41 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 03:59:41 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 03:59:41 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 03:59:41 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2863 samples, 21 features
2025-08-25 03:59:41 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 03:59:41 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 03:59:41 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2912 data points
2025-08-25 03:59:46 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_3be99baa-c8c6-4153-a54e-e15fca48c124.zip
2025-08-25 03:59:46 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 03:59:46 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 03:59:46 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 03:59:46 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 03:59:46 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 03:59:46 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 03:59:46 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 04:01:32 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 04:01:32 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 04:01:34 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 04:01:35 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 04:01:38 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 04:01:38 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 04:01:39 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:01:39 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:01:39 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 04:01:40 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:01:40 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:01:40 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:01:40 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:01:40 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:01:40 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:01:40 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 04:01:40 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 04:01:40 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_3be99baa-c8c6-4153-a54e-e15fca48c124.zip
2025-08-25 04:01:41 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 04:01:41 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 04:01:41 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:01:41 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:01:41 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:01:41 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 04:01:41 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 04:01:41 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:01:41 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 04:01:41 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2863 samples, 21 features
2025-08-25 04:01:41 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:01:41 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 04:01:41 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2912 data points
2025-08-25 04:01:45 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_3be99baa-c8c6-4153-a54e-e15fca48c124.zip
2025-08-25 04:01:45 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 04:01:45 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 04:01:45 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 04:01:45 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:01:45 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 04:01:45 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 04:01:45 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 04:09:42 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 04:09:42 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 04:09:45 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 04:09:46 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 04:09:49 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 04:09:49 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 04:09:50 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:09:50 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:09:50 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 04:09:50 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:09:50 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:09:50 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:09:50 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:09:50 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:09:50 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:09:50 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 04:09:50 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 04:09:50 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_3be99baa-c8c6-4153-a54e-e15fca48c124.zip
2025-08-25 04:09:52 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:09:52 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 04:09:52 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 04:09:52 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 04:09:53 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:09:53 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:09:53 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:09:53 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 04:09:53 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 04:09:53 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:09:53 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 04:09:53 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2863 samples, 21 features
2025-08-25 04:09:53 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:09:53 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 04:09:53 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2912 data points
2025-08-25 04:09:53 | ERROR    | __main__:run_backtest:347 - Backtest failed: Model file not found: models/saved_models/ppo_final_3be99baa-c8c6-4153-a54e-e15fca48c124.zip
2025-08-25 04:09:53 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 04:09:53 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 04:09:53 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 04:09:53 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 04:09:53 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 04:11:32 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 04:11:32 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 04:11:35 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 04:11:36 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 04:11:39 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 04:11:39 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 04:11:40 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:11:40 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:11:40 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 04:11:40 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:11:40 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:11:40 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:11:40 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:11:40 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:11:40 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:11:40 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 04:11:40 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 04:11:40 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-25 04:11:42 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 04:11:42 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 04:11:42 | INFO     | __main__:run_training:235 - Training data prepared: 2912 samples
2025-08-25 04:11:42 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:11:42 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:11:42 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:11:42 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 04:11:42 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 04:11:42 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:11:42 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2329, 21)
2025-08-25 04:11:42 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2280 samples, 21 features
2025-08-25 04:11:42 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:11:42 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 04:11:42 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2329 data points
2025-08-25 04:11:46 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:11:46 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:11:46 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:11:46 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 04:11:46 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 04:11:46 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:11:46 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (583, 21)
2025-08-25 04:11:46 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 534 samples, 21 features
2025-08-25 04:11:46 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:11:46 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 04:11:46 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 583 data points
2025-08-25 04:11:56 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 122861.66
2025-08-25 04:12:19 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 487869.44
2025-08-25 04:12:40 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 676431.71
2025-08-25 04:13:50 | ERROR    | __main__:run_training:281 - Training failed: [Errno 2] No such file or directory: './models/saved_models\\config/model_config.yaml'
2025-08-25 04:13:50 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 04:13:50 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 04:13:50 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 04:13:50 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:13:50 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 04:13:51 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 04:13:51 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 04:16:52 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 04:16:52 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 04:16:55 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 04:16:56 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 04:16:59 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 04:16:59 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 04:17:00 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:17:00 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:17:00 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 04:17:00 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:17:00 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:17:00 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:17:00 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:17:00 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:17:00 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:17:00 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 04:17:00 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 04:17:00 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_c5aad261-2522-4259-b859-e66d6ff30a3b.zip
2025-08-25 04:17:01 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 04:17:01 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 04:17:01 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:17:01 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:17:01 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:17:01 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 04:17:01 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 04:17:01 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:17:01 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 04:17:01 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2863 samples, 21 features
2025-08-25 04:17:01 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:17:01 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 04:17:01 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2912 data points
2025-08-25 04:17:05 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_c5aad261-2522-4259-b859-e66d6ff30a3b.zip
2025-08-25 04:17:05 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 04:17:05 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 04:17:05 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 04:17:05 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:17:05 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 04:17:06 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 04:17:06 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 04:21:30 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 04:21:30 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 04:21:33 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 04:21:34 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 04:21:37 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 04:21:37 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 04:21:38 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:21:38 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:21:38 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 04:21:38 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:21:38 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:21:38 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:21:38 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:21:38 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:21:38 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:21:38 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 04:21:38 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 04:21:38 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_c5aad261-2522-4259-b859-e66d6ff30a3b.zip
2025-08-25 04:21:39 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 04:21:39 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 04:21:39 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:21:39 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:21:39 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:21:39 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 04:21:40 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 04:21:40 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:21:40 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2912, 21)
2025-08-25 04:21:40 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2863 samples, 21 features
2025-08-25 04:21:40 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:21:40 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 04:21:40 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2912 data points
2025-08-25 04:21:40 | ERROR    | __main__:run_backtest:347 - Backtest failed: Model file not found: models/saved_models/ppo_final_c5aad261-2522-4259-b859-e66d6ff30a3b.zip
2025-08-25 04:21:40 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 04:21:40 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 04:21:40 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 04:21:40 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:21:40 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 04:21:40 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 04:21:40 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 04:26:50 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 04:26:50 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 04:26:53 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 04:26:55 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 04:26:58 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 04:26:58 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 04:26:59 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:26:59 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:26:59 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 04:26:59 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:26:59 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:26:59 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:26:59 | INFO     | models.ppo_agent:__init__:132 - PPO Trading Agent initialized
2025-08-25 04:26:59 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:26:59 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:26:59 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 04:26:59 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 04:26:59 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-25 04:27:00 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:27:00 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 04:27:03 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2912 rows from cache for XAUUSDm
2025-08-25 04:27:03 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2912 samples
2025-08-25 04:27:03 | INFO     | __main__:run_training:235 - Training data prepared: 2912 samples
2025-08-25 04:27:03 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:27:03 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:27:03 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:27:03 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 04:27:03 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 04:27:03 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:27:03 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2329, 21)
2025-08-25 04:27:03 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2280 samples, 21 features
2025-08-25 04:27:03 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:27:03 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 04:27:03 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2329 data points
2025-08-25 04:27:06 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:27:06 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:27:06 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:27:06 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 04:27:06 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 04:27:06 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:27:06 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (583, 21)
2025-08-25 04:27:06 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 534 samples, 21 features
2025-08-25 04:27:06 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:27:06 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 04:27:06 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 583 data points
2025-08-25 04:27:17 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 10312.79
2025-08-25 04:27:38 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 62615.92
2025-08-25 04:28:19 | INFO     | models.ppo_agent:_on_rollout_end:95 - New best model saved with portfolio value: 146239.39
2025-08-25 04:28:56 | ERROR    | __main__:run_training:281 - Training failed: [Errno 2] No such file or directory: './models/saved_models\\config/model_config.yaml'
2025-08-25 04:28:56 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 04:28:56 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 04:28:56 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 04:28:57 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 04:28:57 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 04:50:34 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 04:50:34 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 04:50:36 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 04:50:38 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 04:50:41 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 04:50:41 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 04:50:42 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:50:43 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 04:50:43 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 04:50:43 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 04:50:43 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:50:43 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:50:43 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 04:50:43 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:50:43 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:50:43 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 04:50:43 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 04:50:43 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-25 04:50:43 | WARNING  | backend.data_manager:get_historical_data:538 - No cached data found for XAUUSDm:H1
2025-08-25 04:50:43 | INFO     | services.mt5_client:connect:150 - Connected to MT5: Account 210888620, Balance: 99.6, Server: Exness-MT5Trial9
2025-08-25 04:50:43 | INFO     | services.mt5_client:get_historical_data:231 - Retrieved 11780 bars for XAUUSDm (H1)
2025-08-25 04:50:44 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:50:44 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 04:50:45 | INFO     | backend.data_manager:save_historical_data:500 - Cached historical data for XAUUSDm (11780 rows)
2025-08-25 04:50:45 | INFO     | __main__:_get_or_download_data:464 - Downloaded and cached data for XAUUSDm: 11780 samples
2025-08-25 04:50:45 | INFO     | __main__:run_training:235 - Training data prepared: 11780 samples
2025-08-25 04:50:45 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:50:45 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:50:45 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:50:45 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 28 features
2025-08-25 04:50:45 | INFO     | envs.state_features:_select_features:230 - Selected 28 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'hour_of_day', 'day_of_week', 'is_weekend', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:50:45 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (9424, 28)
2025-08-25 04:50:45 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 9375 samples, 28 features
2025-08-25 04:50:45 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:50:45 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2805,)
2025-08-25 04:50:45 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 9424 data points
2025-08-25 04:50:45 | INFO     | models.ppo_agent:create_model:311 - Creating new PPO model
2025-08-25 04:50:49 | INFO     | models.ppo_agent:create_model:349 - PPO model created successfully
2025-08-25 04:50:49 | INFO     | models.ppo_agent:train:355 - Starting PPO training with 9424 samples
2025-08-25 04:50:49 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:50:49 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:50:49 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:50:49 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 28 features
2025-08-25 04:50:49 | INFO     | envs.state_features:_select_features:230 - Selected 28 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'hour_of_day', 'day_of_week', 'is_weekend', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:50:49 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2356, 28)
2025-08-25 04:50:49 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 2307 samples, 28 features
2025-08-25 04:50:49 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:50:49 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2805,)
2025-08-25 04:50:49 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 2356 data points
2025-08-25 04:51:01 | INFO     | models.ppo_agent:_on_rollout_end:101 - New best model saved with portfolio value: 3530181635.55
2025-08-25 04:51:51 | INFO     | models.ppo_agent:_on_rollout_end:101 - New best model saved with portfolio value: 73210374404.37
2025-08-25 04:52:39 | INFO     | models.ppo_agent:_on_rollout_end:101 - New best model saved with portfolio value: 1016417168126.16
2025-08-25 04:52:50 | INFO     | models.ppo_agent:train:393 - Saved VecNormalize stats to ./models/saved_models\vecnormalize.pkl
2025-08-25 04:52:50 | INFO     | models.ppo_agent:train:415 - Training completed. Model saved to ./models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 04:52:51 | INFO     | backend.data_manager:save_training_session:296 - Training session 439f93bc-16e5-4f77-84e3-7301ca40be88 saved successfully
2025-08-25 04:52:51 | INFO     | __main__:run_training:277 - Training completed for XAUUSDm: {'success': True, 'model_path': './models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip', 'total_timesteps': 10000, 'best_model_path': 'C:\\Users\\ikchr\\AppData\\Local\\Temp\\SB3-2025-08-25-04-50-49-780032\\best_model', 'final_performance': {'mean_reward': np.float64(1016417168126.1648), 'total_episodes': 0}}
2025-08-25 04:52:51 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 04:52:51 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 04:52:51 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 04:52:52 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 04:52:52 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 04:53:58 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 04:53:58 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 04:54:01 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 04:54:02 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 04:54:05 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 04:54:05 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 04:54:06 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:54:06 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 04:54:07 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 04:54:07 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 04:54:07 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:54:07 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:54:07 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 04:54:07 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:54:07 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 04:54:07 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 04:54:07 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 04:54:07 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 04:54:08 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 04:54:08 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 04:54:09 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 11780 rows from cache for XAUUSDm
2025-08-25 04:54:09 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 11780 samples
2025-08-25 04:54:09 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 04:54:09 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 04:54:09 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 04:54:09 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 04:54:09 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 04:54:09 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 04:54:09 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (11780, 21)
2025-08-25 04:54:09 | INFO     | envs.trading_env:_prepare_data:233 - Data prepared: 11731 samples, 21 features
2025-08-25 04:54:09 | INFO     | envs.trading_env:_setup_spaces:284 - Action space: Discrete(3)
2025-08-25 04:54:09 | INFO     | envs.trading_env:_setup_spaces:285 - Observation space: (2105,)
2025-08-25 04:54:09 | INFO     | envs.trading_env:__init__:118 - Trading environment initialized with 11780 data points
2025-08-25 04:54:09 | ERROR    | __main__:run_backtest:347 - Backtest failed: spaces must have the same shape: (2805,) != (2105,)
2025-08-25 04:54:09 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 04:54:09 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 04:54:09 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 04:54:09 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 04:54:09 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 05:01:30 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 05:01:30 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 05:01:34 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 05:01:35 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 05:01:40 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 05:01:40 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 05:01:41 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:01:41 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:01:41 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 05:01:41 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:01:41 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:01:41 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:01:42 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:01:42 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:01:42 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:01:42 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 05:01:42 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 05:01:42 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 05:01:43 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:01:43 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 05:02:31 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 11780 rows from cache for XAUUSDm
2025-08-25 05:02:32 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 11780 samples
2025-08-25 05:02:32 | ERROR    | __main__:run_backtest:347 - Backtest failed: [Errno 2] No such file or directory: 'models/saved_models/model_config.yaml'
2025-08-25 05:02:32 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 05:02:32 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 05:02:32 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 05:02:32 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 05:02:32 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 05:14:05 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 05:14:05 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 05:14:07 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 05:14:08 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 05:14:11 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 05:14:11 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 05:16:27 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:16:27 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:16:27 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 05:16:27 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:16:27 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:16:27 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:16:27 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:16:27 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:16:27 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:16:27 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 05:16:27 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 05:16:27 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 05:16:29 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:16:29 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 05:16:29 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 11780 rows from cache for XAUUSDm
2025-08-25 05:16:29 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 11780 samples
2025-08-25 05:16:29 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:16:29 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 05:16:29 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 05:16:29 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 05:16:29 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 05:16:29 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 05:16:29 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (11780, 21)
2025-08-25 05:16:29 | INFO     | envs.trading_env:_prepare_data:184 - Data prepared: 11731 samples, 21 features
2025-08-25 05:16:29 | INFO     | envs.trading_env:_setup_spaces:218 - Action space: Discrete(3)
2025-08-25 05:16:29 | INFO     | envs.trading_env:_setup_spaces:219 - Observation space: (2105,)
2025-08-25 05:16:29 | INFO     | envs.trading_env:__init__:116 - Trading environment initialized with 11780 data points
2025-08-25 05:16:29 | ERROR    | __main__:run_backtest:347 - Backtest failed: spaces must have the same shape: (2805,) != (2105,)
2025-08-25 05:16:29 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 05:16:29 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 05:16:29 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 05:16:30 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 05:16:30 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 05:25:39 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 05:25:39 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 05:25:43 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 05:25:44 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 05:25:47 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 05:25:47 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 05:25:49 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:25:49 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:25:49 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 05:25:49 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:25:49 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:25:49 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:25:49 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:25:49 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:25:49 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:25:49 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 05:25:49 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 05:25:49 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 05:25:50 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:25:50 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 05:25:52 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 11780 rows from cache for XAUUSDm
2025-08-25 05:25:52 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 11780 samples
2025-08-25 05:25:52 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:25:52 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 05:25:52 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 05:25:52 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 05:25:52 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 05:25:52 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 05:25:52 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (11780, 21)
2025-08-25 05:25:52 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 11731 samples, 21 features
2025-08-25 05:25:52 | ERROR    | __main__:run_backtest:347 - Backtest failed: Missing obs_config.yaml, required for consistent obs_dim
2025-08-25 05:25:52 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 05:25:52 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 05:25:52 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 05:25:52 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 05:25:52 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 05:52:37 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 05:52:37 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 05:52:40 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 05:52:41 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 05:52:44 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 05:52:44 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 05:52:46 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:52:46 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:52:46 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 05:52:46 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:52:46 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:52:46 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:52:46 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:52:46 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:52:46 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:52:46 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 05:52:46 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 05:52:46 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 05:52:46 | WARNING  | backend.data_manager:get_historical_data:538 - No cached data found for XAUUSDm:H1
2025-08-25 05:52:46 | INFO     | services.mt5_client:connect:150 - Connected to MT5: Account 210888620, Balance: 99.6, Server: Exness-MT5Trial9
2025-08-25 05:52:46 | INFO     | services.mt5_client:get_historical_data:231 - Retrieved 2913 bars for XAUUSDm (H1)
2025-08-25 05:52:47 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:52:47 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 05:52:48 | INFO     | backend.data_manager:save_historical_data:500 - Cached historical data for XAUUSDm (2913 rows)
2025-08-25 05:52:48 | INFO     | __main__:_get_or_download_data:464 - Downloaded and cached data for XAUUSDm: 2913 samples
2025-08-25 05:52:48 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:52:48 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 05:52:48 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 05:52:48 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 28 features
2025-08-25 05:52:48 | INFO     | envs.state_features:_select_features:230 - Selected 28 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'hour_of_day', 'day_of_week', 'is_weekend', 'hour_sin', 'hour_cos', 'dow_sin', 'dow_cos', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 05:52:48 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2913, 28)
2025-08-25 05:52:48 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2864 samples, 28 features
2025-08-25 05:52:48 | ERROR    | __main__:run_backtest:347 - Backtest failed: [Errno 2] No such file or directory: 'configs\\obs_config.yaml'
2025-08-25 05:52:48 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 05:52:48 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 05:52:48 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 05:52:48 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 05:52:48 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 05:55:04 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 05:55:04 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 05:55:06 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 05:55:07 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 05:55:10 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 05:55:10 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 05:55:12 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:55:12 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:55:12 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 05:55:12 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:55:12 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:55:12 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:55:12 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:55:12 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:55:12 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:55:12 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 05:55:12 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 05:55:12 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 05:55:13 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2913 rows from cache for XAUUSDm
2025-08-25 05:55:13 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2913 samples
2025-08-25 05:55:13 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:55:13 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 05:55:13 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 05:55:13 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 05:55:13 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 05:55:13 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 05:55:13 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2913, 21)
2025-08-25 05:55:13 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2864 samples, 21 features
2025-08-25 05:55:13 | ERROR    | __main__:run_backtest:347 - Backtest failed: cannot access local variable 'n_features' where it is not associated with a value
2025-08-25 05:55:13 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 05:55:13 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 05:55:13 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 05:55:13 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:55:13 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 05:55:13 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 05:55:13 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 05:58:34 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 05:58:34 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 05:58:37 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 05:58:38 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 05:58:41 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 05:58:41 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 05:58:43 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:58:43 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:58:43 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 05:58:43 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:58:43 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:58:43 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:58:43 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:58:43 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:58:43 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:58:43 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 05:58:43 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 05:58:43 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 05:58:44 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2913 rows from cache for XAUUSDm
2025-08-25 05:58:44 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2913 samples
2025-08-25 05:58:44 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:58:44 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 05:58:44 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 05:58:44 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 05:58:44 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 05:58:44 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 05:58:44 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2913, 21)
2025-08-25 05:58:44 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2864 samples, 21 features
2025-08-25 05:58:44 | ERROR    | __main__:run_backtest:347 - Backtest failed: 'TradingEnvironment' object has no attribute 'portfolio_features_dim'
2025-08-25 05:58:44 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 05:58:44 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 05:58:44 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 05:58:44 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:58:44 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 05:58:44 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 05:58:44 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 05:59:27 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 05:59:27 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 05:59:30 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 05:59:31 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 05:59:34 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 05:59:34 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 05:59:35 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:59:35 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:59:35 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 05:59:35 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:59:35 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:59:36 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:59:36 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 05:59:36 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:59:36 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 05:59:36 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 05:59:36 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 05:59:36 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 05:59:37 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2913 rows from cache for XAUUSDm
2025-08-25 05:59:37 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2913 samples
2025-08-25 05:59:37 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 05:59:37 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 05:59:37 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 05:59:37 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 05:59:37 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 05:59:37 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 05:59:37 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2913, 21)
2025-08-25 05:59:37 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2864 samples, 21 features
2025-08-25 05:59:37 | ERROR    | __main__:run_backtest:347 - Backtest failed: 'TradingEnvironment' object has no attribute 'portfolio_features_dim'
2025-08-25 05:59:37 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 05:59:37 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 05:59:37 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 05:59:37 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 05:59:37 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 05:59:37 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 05:59:37 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 06:01:02 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 06:01:02 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 06:01:05 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 06:01:06 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 06:01:09 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 06:01:09 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 06:01:10 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:01:11 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:01:11 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 06:01:11 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:01:11 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:01:11 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:01:11 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:01:11 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:01:11 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:01:11 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 06:01:11 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 06:01:11 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 06:01:12 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2913 rows from cache for XAUUSDm
2025-08-25 06:01:12 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2913 samples
2025-08-25 06:01:12 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:01:12 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 06:01:12 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 06:01:12 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 06:01:12 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 06:01:12 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 06:01:12 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2913, 21)
2025-08-25 06:01:12 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2864 samples, 21 features
2025-08-25 06:01:12 | ERROR    | __main__:run_backtest:347 - Backtest failed: 'TradingEnvironment' object has no attribute 'portfolio_features_dim'
2025-08-25 06:01:12 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 06:01:12 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 06:01:12 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 06:01:12 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:01:12 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 06:01:12 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 06:01:12 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 06:07:30 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 06:07:30 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 06:07:33 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 06:07:35 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 06:07:38 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 06:07:38 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 06:07:40 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:07:40 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:07:40 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 06:07:40 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:07:40 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:07:40 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:07:40 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:07:40 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:07:40 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:07:40 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 06:07:40 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 06:07:40 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 06:07:41 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:07:41 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 06:07:49 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2913 rows from cache for XAUUSDm
2025-08-25 06:07:49 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2913 samples
2025-08-25 06:07:49 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:07:49 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 06:07:49 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 06:07:49 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 06:07:49 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 06:07:49 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 06:07:49 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2913, 21)
2025-08-25 06:07:49 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2864 samples, 21 features
2025-08-25 06:07:49 | INFO     | envs.trading_env:_setup_spaces:252 - Action space: Discrete(3)
2025-08-25 06:07:49 | INFO     | envs.trading_env:_setup_spaces:253 - Observation space: (2105,)
2025-08-25 06:07:49 | INFO     | envs.trading_env:__init__:117 - Trading environment initialized with 2913 data points
2025-08-25 06:07:49 | ERROR    | __main__:run_backtest:347 - Backtest failed: spaces must have the same shape: (2805,) != (2105,)
2025-08-25 06:07:49 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 06:07:49 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 06:07:49 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 06:07:50 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 06:07:50 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 06:09:06 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 06:09:06 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 06:09:08 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 06:09:09 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 06:09:12 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 06:09:12 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 06:09:14 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:09:14 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:09:14 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 06:09:14 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:09:14 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:09:14 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:09:14 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:09:14 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:09:14 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:09:14 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 06:09:14 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 06:09:14 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 06:09:15 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2913 rows from cache for XAUUSDm
2025-08-25 06:09:15 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2913 samples
2025-08-25 06:09:15 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:09:15 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 06:09:15 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 06:09:15 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 06:09:15 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 06:09:15 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 06:09:15 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2913, 21)
2025-08-25 06:09:15 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2864 samples, 21 features
2025-08-25 06:09:15 | INFO     | envs.trading_env:_setup_spaces:252 - Action space: Discrete(3)
2025-08-25 06:09:15 | INFO     | envs.trading_env:_setup_spaces:253 - Observation space: (2805,)
2025-08-25 06:09:15 | INFO     | envs.trading_env:__init__:117 - Trading environment initialized with 2913 data points
2025-08-25 06:09:15 | INFO     | models.ppo_agent:load_model:552 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-25 06:09:20 | INFO     | models.ppo_agent:load_model:562 - Model loaded from models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 06:09:20 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_439f93bc-16e5-4f77-84e3-7301ca40be88.zip
2025-08-25 06:09:20 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 06:09:20 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 06:09:20 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 06:09:20 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:09:20 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 06:09:21 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 06:09:21 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 06:26:31 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 06:26:31 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 06:26:34 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 06:26:35 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 06:26:38 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 06:26:38 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 06:26:39 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:26:39 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:26:39 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 06:26:39 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:26:39 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:26:39 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:26:39 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:26:39 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:26:39 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:26:39 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 06:26:39 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 06:26:39 | INFO     | __main__:run_training:215 - Starting training for XAUUSDm
2025-08-25 06:26:40 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2913 rows from cache for XAUUSDm
2025-08-25 06:26:40 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2913 samples
2025-08-25 06:26:40 | INFO     | __main__:run_training:235 - Training data prepared: 2913 samples
2025-08-25 06:26:40 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:26:40 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 06:26:40 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 06:26:40 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 06:26:40 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 06:26:40 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 06:26:40 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2330, 21)
2025-08-25 06:26:40 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2281 samples, 21 features
2025-08-25 06:26:40 | INFO     | envs.trading_env:_setup_spaces:252 - Action space: Discrete(3)
2025-08-25 06:26:40 | INFO     | envs.trading_env:_setup_spaces:253 - Observation space: (2105,)
2025-08-25 06:26:40 | INFO     | envs.trading_env:__init__:117 - Trading environment initialized with 2330 data points
2025-08-25 06:26:41 | INFO     | models.ppo_agent:create_model:311 - Creating new PPO model
2025-08-25 06:26:44 | INFO     | models.ppo_agent:create_model:349 - PPO model created successfully
2025-08-25 06:26:44 | INFO     | models.ppo_agent:train:355 - Starting PPO training with 2330 samples
2025-08-25 06:26:44 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:26:44 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 06:26:44 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 06:26:44 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 06:26:44 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 06:26:44 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 06:26:44 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (583, 21)
2025-08-25 06:26:44 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 534 samples, 21 features
2025-08-25 06:26:44 | INFO     | envs.trading_env:_setup_spaces:252 - Action space: Discrete(3)
2025-08-25 06:26:44 | INFO     | envs.trading_env:_setup_spaces:253 - Observation space: (2105,)
2025-08-25 06:26:44 | INFO     | envs.trading_env:__init__:117 - Trading environment initialized with 583 data points
2025-08-25 06:26:58 | INFO     | models.ppo_agent:_on_rollout_end:101 - New best model saved with portfolio value: 176712.59
2025-08-25 06:27:20 | INFO     | models.ppo_agent:_on_rollout_end:101 - New best model saved with portfolio value: 454343.28
2025-08-25 06:27:42 | INFO     | models.ppo_agent:_on_rollout_end:101 - New best model saved with portfolio value: 563455.88
2025-08-25 06:28:38 | INFO     | models.ppo_agent:train:393 - Saved VecNormalize stats to ./models/saved_models\vecnormalize.pkl
2025-08-25 06:28:38 | INFO     | models.ppo_agent:train:415 - Training completed. Model saved to ./models/saved_models/ppo_final_48a607e5-8fbd-4321-ab78-b7fe64423ca0.zip
2025-08-25 06:28:38 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:28:38 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 06:28:39 | INFO     | backend.data_manager:save_training_session:296 - Training session 48a607e5-8fbd-4321-ab78-b7fe64423ca0 saved successfully
2025-08-25 06:28:39 | INFO     | __main__:run_training:277 - Training completed for XAUUSDm: {'success': True, 'model_path': './models/saved_models/ppo_final_48a607e5-8fbd-4321-ab78-b7fe64423ca0.zip', 'total_timesteps': 10000, 'best_model_path': 'C:\\Users\\ikchr\\AppData\\Local\\Temp\\SB3-2025-08-25-06-26-44-846694\\best_model', 'final_performance': {'mean_reward': np.float64(563455.8757948728), 'total_episodes': 0}}
2025-08-25 06:28:39 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 06:28:39 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 06:28:39 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 06:28:39 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 06:28:39 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 06:29:28 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 06:29:28 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 06:29:30 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 06:29:32 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 06:29:34 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 06:29:34 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 06:29:36 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:29:36 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:29:36 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 06:29:36 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:29:36 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:29:36 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:29:36 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:29:36 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:29:36 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:29:36 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 06:29:36 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 06:29:36 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_48a607e5-8fbd-4321-ab78-b7fe64423ca0.zip
2025-08-25 06:29:37 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:29:37 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 06:29:37 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2913 rows from cache for XAUUSDm
2025-08-25 06:29:37 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2913 samples
2025-08-25 06:29:37 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:29:37 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 06:29:37 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 06:29:37 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 06:29:37 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 06:29:37 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 06:29:37 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2913, 21)
2025-08-25 06:29:37 | INFO     | envs.trading_env:_prepare_data:185 - Data prepared: 2864 samples, 21 features
2025-08-25 06:29:37 | INFO     | envs.trading_env:_setup_spaces:252 - Action space: Discrete(3)
2025-08-25 06:29:37 | INFO     | envs.trading_env:_setup_spaces:253 - Observation space: (2105,)
2025-08-25 06:29:37 | INFO     | envs.trading_env:__init__:117 - Trading environment initialized with 2913 data points
2025-08-25 06:29:37 | INFO     | models.ppo_agent:load_model:552 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-25 06:29:41 | INFO     | models.ppo_agent:load_model:562 - Model loaded from models/saved_models/ppo_final_48a607e5-8fbd-4321-ab78-b7fe64423ca0.zip
2025-08-25 06:29:41 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_48a607e5-8fbd-4321-ab78-b7fe64423ca0.zip
2025-08-25 06:29:41 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 06:29:41 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 06:29:41 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 06:29:42 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 06:29:42 | INFO     | __main__:shutdown:502 - System shutdown completed
2025-08-25 06:43:24 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 06:43:24 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 06:44:24 | ERROR    | backend.data_manager:_connect_postgres:96 - Failed to connect to PostgreSQL: 
2025-08-25 06:44:26 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 06:44:26 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 06:44:46 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:44:47 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:14 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:14 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:14 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:15 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:48 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:48 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:49 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:49 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:49 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:57 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:57 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:45:58 | INFO     | __main__:signal_handler:477 - Received signal 2, initiating graceful shutdown...
2025-08-25 06:46:55 | INFO     | __main__:__init__:83 - PPO Trading System initialized
2025-08-25 06:46:55 | INFO     | __main__:initialize:118 - Initializing PPO Trading System...
2025-08-25 06:46:58 | INFO     | backend.data_manager:_connect_postgres:93 - Connected to PostgreSQL database
2025-08-25 06:46:59 | INFO     | backend.data_manager:_connect_redis:116 - Connected to Redis cache
2025-08-25 06:47:02 | INFO     | backend.data_manager:_create_tables:247 - Database tables created/verified successfully
2025-08-25 06:47:02 | INFO     | backend.data_manager:initialize:72 - Data manager initialization completed
2025-08-25 06:47:03 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:47:03 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:47:03 | INFO     | services.mt5_client:__init__:113 - MT5 Client initialized
2025-08-25 06:47:03 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:47:03 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:47:03 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:47:03 | INFO     | models.ppo_agent:__init__:144 - PPO Trading Agent initialized
2025-08-25 06:47:03 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:47:03 | INFO     | services.signal_generator:__init__:110 - Signal generator initialized
2025-08-25 06:47:03 | INFO     | __main__:initialize:151 - System initialization completed successfully
2025-08-25 06:47:03 | INFO     | __main__:start_websocket_server:418 - WebSocket server started
2025-08-25 06:47:03 | INFO     | __main__:run_backtest:311 - Starting backtest for XAUUSDm with model models/saved_models/ppo_final_48a607e5-8fbd-4321-ab78-b7fe64423ca0.zip
2025-08-25 06:47:04 | INFO     | backend.data_manager:get_historical_data:530 - Retrieved 2913 rows from cache for XAUUSDm
2025-08-25 06:47:04 | INFO     | __main__:_get_or_download_data:445 - Using cached data for XAUUSDm: 2913 samples
2025-08-25 06:47:04 | INFO     | envs.state_features:__init__:41 - State feature extractor initialized
2025-08-25 06:47:04 | INFO     | envs.reward_functions:__init__:43 - Reward calculator initialized with type: profit_based
2025-08-25 06:47:04 | INFO     | envs.state_features:extract_features:53 - Extracting features from market data
2025-08-25 06:47:04 | WARNING  | envs.state_features:_add_time_features:141 - No timestamp column found, using integer index
2025-08-25 06:47:04 | INFO     | envs.state_features:_normalize_features:198 - Feature normalization parameters fitted for 26 features
2025-08-25 06:47:04 | INFO     | envs.state_features:_select_features:230 - Selected 21 features: ['open', 'high', 'low', 'close', 'volume', 'sma_5', 'sma_20', 'sma_50', 'ema_12', 'ema_26', 'rsi_14', 'macd', 'macd_signal', 'bb_upper', 'bb_lower', 'atr_14', 'price_change', 'high_low_ratio', 'volume_ratio', 'volatility', 'price_position']
2025-08-25 06:47:04 | INFO     | envs.state_features:extract_features:69 - Feature extraction complete. Shape: (2913, 21)
2025-08-25 06:47:04 | INFO     | envs.trading_env:_prepare_data:192 - Data prepared: 2864 samples, 21 features
2025-08-25 06:47:04 | INFO     | envs.trading_env:_setup_spaces:220 - Action space: Discrete(3)
2025-08-25 06:47:04 | INFO     | envs.trading_env:_setup_spaces:221 - Observation space: (2105,)
2025-08-25 06:47:04 | INFO     | envs.trading_env:__init__:138 - Trading environment initialized with 2913 data points
2025-08-25 06:47:04 | INFO     | models.ppo_agent:load_model:552 - Loaded VecNormalize stats from models/saved_models\vecnormalize.pkl
2025-08-25 06:47:08 | INFO     | models.ppo_agent:load_model:562 - Model loaded from models/saved_models/ppo_final_48a607e5-8fbd-4321-ab78-b7fe64423ca0.zip
2025-08-25 06:47:08 | ERROR    | __main__:run_backtest:347 - Backtest failed: Failed to load model from models/saved_models/ppo_final_48a607e5-8fbd-4321-ab78-b7fe64423ca0.zip
2025-08-25 06:47:08 | INFO     | __main__:shutdown:485 - Shutting down PPO Trading System...
2025-08-25 06:47:08 | INFO     | services.mt5_client:stop_streaming:308 - Stopped market data streaming
2025-08-25 06:47:08 | INFO     | services.mt5_client:disconnect:166 - Disconnected from MT5
2025-08-25 06:47:08 | INFO     | services.websocket_server:initialize:108 - Redis connection established
2025-08-25 06:47:08 | INFO     | services.websocket_server:start_server:415 - WebSocket server started on 0.0.0.0:8080
2025-08-25 06:47:09 | INFO     | backend.data_manager:close:265 - Database connections closed
2025-08-25 06:47:09 | INFO     | __main__:shutdown:502 - System shutdown completed
